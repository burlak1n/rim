### **Итоговое Техническое Задание: WorkSphere**  
**Название**: RIM (корпоративный портал для управления контактами, группами и ресурсами).  

---

### **Цель**  
Разработать высококачественный сервис для хранения контактов сотрудников с гибкой системой прав доступа, современной архитектурой и масштабируемостью.  

---

### **Функциональные требования**  
#### 1. **Управление контактами**  
- **Обязательные поля**:  
  - Имя  
  - Телефон  
  - Email  
- **Необязательные поля**:  
  - **Транспорт**: выпадающий список (есть машина / есть права / нет ничего).  
  - **Принтер**: выпадающий список (цветной / обычный / нет).  
  - **Аллергии**: текстовое поле.  
  - **VK** и **Telegram**: текстовые поля для ссылок или username.  
- **Группы**:  
  - Контакты могут принадлежать к неограниченному числу групп (например: "Администратор", "Совет", "1 курс").  

#### 2. **Права доступа**  
- **Группы определяют доступ**:  
  - Просмотр контактов.  
  - Управление группами.  
  - Доступ к документам/расписанию (на будущих этапах).  
- **Ролевая модель**:  
  - Администратор: полный доступ.  
  - Модератор: редактирование контактов определённых групп, на которые он назначается модератором.  
  - Пользователь: просмотр (в рамках своей группы), редактирование себя.  

#### 3. **Поиск и сортировка**  
- **Поиск** по всем полям (включая VK, Telegram).  
- **Сортировка** по любому полю (имя, дата добавления, группа).  

#### 4. **Аутентификация**  
- **Методы**:  
  - Логин/пароль.  
  - OAuth 2.0 (Google/GitHub).  
- **Сессии**:  
  - Хранение в Redis с TTL.  
  - Защита от CSRF.  

---

### **Технические требования**  
#### 1. **Стек технологий**  
- **Язык**: Go 1.22+.  
- **Фреймворк**: Fiber (роутинг, мидлвари).  
- **Базы данных**:  
  - **SQLite** (основное хранилище).  
  - **Redis** (сессии и кэш).  
- **Библиотеки**:  
  - ORM: GORM (работа с SQLite).  
  - Redis: `github.com/redis/go-redis/v9`.  
  - OAuth: `golang.org/x/oauth2`.  
  - Валидация: `github.com/go-playground/validator`.  

#### 2. **Архитектура**  
- **Чистая архитектура**:  
  - Слои: `Delivery (Fiber) → UseCase → Repository`.  
  - Dependency Injection через интерфейсы.  
- **Принципы**:  
  - SOLID.  
  - DRY (без дублирования кода).  
  - Явная обработка ошибок (не игнорировать `err`).  
- **Логирование**:  
  - Структурированные логи (JSON) с уровнем severity (info, warn, error).  

#### 3. **Безопасность**  
- **Сессии**:  
  - Генерация UUID для session_id.  
  - Шифрование кук.  
  - Регулярная очистка устаревших сессий в Redis.  
- **Защита данных**:  
  - Хэширование паролей (bcrypt).  
  - Валидация ввода (телефон, email, VK/Telegram).  

#### 4. **Code Quality**  
- **Тестирование**:  
  - Модульные тесты (на будущем этапе).  
  - Интеграционные тесты с тестовой БД.  
- **Линтеры и форматтеры**:  
  - `golangci-lint`.  
  - Pre-commit хуки.  
- **Документация**:  
  - Swagger (OpenAPI 3.0) для эндпоинтов.  
  - README с примерами запросов.  

---

### **Этапы разработки**  
#### **Этап 1: Базовый функционал**  
1. Реализация CRUD для контактов и групп.  
2. Сессионная аутентификация (логин/пароль + Redis).  
3. Поиск и сортировка по всем полям.  
4. Валидация данных и обработка ошибок.  

#### **Этап 2: Расширение возможностей**  
1. Интеграция OAuth (Google/GitHub).  
2. Ролевая модель и проверка прав доступа.  
3. Логирование и мониторинг.  

#### **Этап 3: Дополнения**  
1. Интеграция с документами/расписанием.  
2. Написание тестов.  
3. Деплой в Docker-контейнере.  

---

### **Современные практики**  
1. **Контейнеризация**:  
   - Docker-образ для сервиса и Redis.  
   - `docker-compose` для локального запуска.  
2. **Environment-ориентированная конфигурация**:  
   - Чтение настроек из переменных окружения (`.env`).  
3. **Оптимизация запросов**:  
   - Кэширование часто используемых данных в Redis.  
4. **Graceful Shutdown**:  
   - Корректное завершение работы сервера при SIGTERM.  

---

### **Демо-сценарий**  
1. Администратор создает группу "Совет" через API.  
2. Пользователь регистрируется, добавляет VK и Telegram, вступает в группу "Новичок".  
3. Модератор из "Совета" ищет контакты с цветным принтером и сортирует их по имени.  

---

### **Итог**  
WorkSphere будет соответствовать modern code-style, с акцентом на читаемость, тестируемость и безопасность.


### **Инструкция по установке**  
1. ```bash
cd frontend
```
2. ```bash
npm install
```
3. ```bash
npm run dev
```